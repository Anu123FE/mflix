{"ast":null,"code":"var _jsxFileName = \"/Users/anu/Desktop/mflix/src/components/main-view/main-view.js\";\nimport React from \"react\";\nimport { MovieCard } from \"../movie-card/movie-card\";\nimport { MovieView } from \"../movie-view/movie-view\";\nimport Login from \"../login-view/login\";\nimport Register from \"../register-view/register\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MainView extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      movies: []\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"https://movie-api-v001.herokuapp.com/movies\").then(response => response.json()).then(response => {\n      this.setState({\n        movies: response\n      });\n    }).catch(err => console.log(err));\n  }\n\n  setRegistered(register) {\n    this.setState({\n      register\n    });\n  }\n\n  setLoggedIn(loggedIn) {\n    this.setState({\n      loggedIn\n    });\n  }\n\n  setMovieSelected(newSelectedMovie) {\n    this.setState({\n      selectedMovie: newSelectedMovie\n    });\n  }\n\n  render() {\n    console.log(loggedIn);\n    const {\n      movies,\n      selectedMovie,\n      register,\n      loggedIn\n    } = this.state;\n\n    if (!register) {\n      return /*#__PURE__*/_jsxDEV(Register, {\n        onRegistration: register => this.setRegistered(register)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 15\n      }, this);\n    }\n\n    if (!loggedIn) {\n      return /*#__PURE__*/_jsxDEV(Login, {\n        onLoggedIn: loggedIn => this.setLoggedIn(loggedIn)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-view\",\n      children: selectedMovie ? /*#__PURE__*/_jsxDEV(MovieView, {\n        movie: selectedMovie,\n        OnClickBack: newSelectedMovie => {\n          this.setMovieSelected(newSelectedMovie);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this) : movies.map((movie, index) => /*#__PURE__*/_jsxDEV(MovieCard, {\n        movie: movie,\n        onMovieClick: movie => {\n          this.setMovieSelected(movie);\n        }\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default MainView;","map":{"version":3,"sources":["/Users/anu/Desktop/mflix/src/components/main-view/main-view.js"],"names":["React","MovieCard","MovieView","Login","Register","MainView","Component","constructor","state","movies","componentDidMount","fetch","then","response","json","setState","catch","err","console","log","setRegistered","register","setLoggedIn","loggedIn","setMovieSelected","newSelectedMovie","selectedMovie","render","map","movie","index"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,0BAA1B;AACA,SAASC,SAAT,QAA0B,0BAA1B;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,QAAP,MAAqB,2BAArB;;;AAEA,MAAMC,QAAN,SAAuBL,KAAK,CAACM,SAA7B,CAAuC;AAIrCC,EAAAA,WAAW,GAAG;AACZ;AADY,SAHdC,KAGc,GAHN;AACNC,MAAAA,MAAM,EAAE;AADF,KAGM;AAEb;;AAEDC,EAAAA,iBAAiB,GAAE;AACjBC,IAAAA,KAAK,CAAC,6CAAD,CAAL,CACCC,IADD,CACMC,QAAQ,IAAEA,QAAQ,CAACC,IAAT,EADhB,EAECF,IAFD,CAEMC,QAAQ,IAAE;AACd,WAAKE,QAAL,CAAc;AACZN,QAAAA,MAAM,EAAEI;AADI,OAAd;AAGD,KAND,EAOCG,KAPD,CAOOC,GAAG,IAAEC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAPZ;AAQD;;AAEDG,EAAAA,aAAa,CAACC,QAAD,EAAU;AACrB,SAAKN,QAAL,CAAc;AACZM,MAAAA;AADY,KAAd;AAGD;;AAEDC,EAAAA,WAAW,CAACC,QAAD,EAAU;AACnB,SAAKR,QAAL,CAAc;AACZQ,MAAAA;AADY,KAAd;AAGD;;AAEDC,EAAAA,gBAAgB,CAACC,gBAAD,EAAmB;AACjC,SAAKV,QAAL,CAAc;AACZW,MAAAA,aAAa,EAAED;AADH,KAAd;AAGD;;AAEDE,EAAAA,MAAM,GAAG;AACPT,IAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ;AACA,UAAM;AAAEd,MAAAA,MAAF;AAAUiB,MAAAA,aAAV;AAAyBL,MAAAA,QAAzB;AAAmCE,MAAAA;AAAnC,QAAgD,KAAKf,KAA3D;;AAEA,QAAG,CAACa,QAAJ,EAAc;AACZ,0BAAQ,QAAC,QAAD;AAAU,QAAA,cAAc,EAAEA,QAAQ,IAAI,KAAKD,aAAL,CAAmBC,QAAnB;AAAtC;AAAA;AAAA;AAAA;AAAA,cAAR;AACD;;AAED,QAAG,CAACE,QAAJ,EAAc;AACZ,0BAAQ,QAAC,KAAD;AAAO,QAAA,UAAU,EAAEA,QAAQ,IAAI,KAAKD,WAAL,CAAiBC,QAAjB;AAA/B;AAAA;AAAA;AAAA;AAAA,cAAR;AACD;;AAED,wBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,gBACGG,aAAa,gBACV,QAAC,SAAD;AAAW,QAAA,KAAK,EAAEA,aAAlB;AAAiC,QAAA,WAAW,EAAED,gBAAgB,IAAI;AAAE,eAAKD,gBAAL,CAAsBC,gBAAtB;AAA0C;AAA9G;AAAA;AAAA;AAAA;AAAA,cADU,GAEVhB,MAAM,CAACmB,GAAP,CAAW,CAACC,KAAD,EAAQC,KAAR,kBACX,QAAC,SAAD;AAAuB,QAAA,KAAK,EAAED,KAA9B;AAAqC,QAAA,YAAY,EAAGA,KAAD,IAAW;AAAE,eAAKL,gBAAL,CAAsBK,KAAtB;AAA8B;AAA9F,SAAgBC,KAAhB;AAAA;AAAA;AAAA;AAAA,cADA;AAHN;AAAA;AAAA;AAAA;AAAA,YADF;AAWD;;AA5DoC;;AA+DvC,eAAezB,QAAf","sourcesContent":["import React from \"react\";\nimport { MovieCard } from \"../movie-card/movie-card\";\nimport { MovieView } from \"../movie-view/movie-view\";\nimport Login from \"../login-view/login\";\nimport Register from \"../register-view/register\";\n\nclass MainView extends React.Component {\n  state = {\n    movies: []\n  }\n  constructor() {\n    super();\n  }\n\n  componentDidMount(){\n    fetch(\"https://movie-api-v001.herokuapp.com/movies\")\n    .then(response=>response.json())\n    .then(response=>{\n      this.setState({\n        movies: response\n      });\n    })\n    .catch(err=>console.log(err))\n  }\n\n  setRegistered(register){\n    this.setState({\n      register\n    })\n  }\n\n  setLoggedIn(loggedIn){\n    this.setState({\n      loggedIn\n    })\n  }\n\n  setMovieSelected(newSelectedMovie) {\n    this.setState({\n      selectedMovie: newSelectedMovie\n    });\n  }\n\n  render() {\n    console.log(loggedIn)\n    const { movies, selectedMovie, register, loggedIn } = this.state;\n    \n    if(!register) { \n      return (<Register onRegistration={register => this.setRegistered(register)}></Register>)\n    }\n\n    if(!loggedIn) {\n      return (<Login onLoggedIn={loggedIn => this.setLoggedIn(loggedIn)}></Login>)\n    }\n\n    return (\n      <div className=\"main-view\">\n        {selectedMovie\n          ? <MovieView movie={selectedMovie} OnClickBack={newSelectedMovie => { this.setMovieSelected(newSelectedMovie); }}/>\n          : movies.map((movie, index) => (\n            <MovieCard key={index} movie={movie} onMovieClick={(movie) => { this.setMovieSelected(movie) }}/>\n          ))\n        }\n      </div>\n    );\n\n  }\n}\n\nexport default MainView;\n"]},"metadata":{},"sourceType":"module"}